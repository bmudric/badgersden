<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
  <meta charset="UTF-8">
  <title>Badger's Den</title>

  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css"
        rel="stylesheet">
  <link href="https://gitcdn.github.io/bootstrap-toggle/2.2.2/css/bootstrap-toggle.min.css"
        rel="stylesheet">

  <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://gitcdn.github.io/bootstrap-toggle/2.2.2/js/bootstrap-toggle.min.js"></script>

  <script>
    function switchRelay(toOn) {
      if (toOn === true) {
        $.getJSON("http://relay01.fritz.box:60666/on", setToggle)
      } else {
        $.getJSON("http://relay01.fritz.box:60666/off", setToggle)
      }
    }

    function setToggle(relayJson) {
      //console.log(relayJson);
      var relayOn = Boolean(relayJson["relayIsOn"] === "true");
      console.log("Relay status received (on): " + relayOn);
      $("#relay01").prop("checked", relayOn).change();
    }

    function refreshStatus() {
      //console.log("Refreshing relay status");
      $.getJSON("http://relay01.fritz.box:60666/status", setToggle)
    }

    function load() {
      setInterval(refreshStatus, 3000);
      $("#relay01").click(switchRelay(true));
    }

    window.onload = load;
  </script>
</head>
<body>
<div class="container">

  <h1>Badger's Den</h1>

  <p>razmak</p>

  <input id="relay01" type="checkbox" data-toggle="toggle" data-onstyle="success"
         data-offstyle="danger"
         data-on="Upaljeno" data-off="Ugaseno">

</div>
</body>
</html>